{"mappings":"AEIQ,IAAM,EAAY,SAEhB,AADK,CAAA,MAAM,MAAM,iCAAxB,EACW,IAAI,GCSL,EAAa,MAAO,IAC/B,IAAM,EAAU,CACd,OAAQ,OACR,KAAM,KAAK,SAAS,CAAC,GACrB,QAAS,CACP,eAAgB,kBAClB,CACF,EAGA,MAAO,AADK,CAAA,MAAM,MAAM,iCAAkC,EAA1D,EACW,IAAI,EACjB,EC1Ba,EAAoB,AAAC,GACzB,EACJ,GAAG,CAAC,CAAC,CAAA,QAAE,CAAO,CAAA,KAAE,CAAI,CAAA,UAAE,CAAS,CAAA,OAAE,CAAM,CAAA,MAAE,CAAK,CAAA,GAAE,CAAE,CAAE,CAAE,IAC9C,CAAC,qBAAqB,EAAE,EAAG;AACR,gCAAA,EACtB,EAAQ,EACT;AAAwC,kBAC/B,EAAE,EAAM,OAAO,EAAE,EAAK;AACd,0BAAA,EAAE,EAAU;AACV,4BAAA,EAAE,EAAQ;AACP,+BAAA,EAAE,EAAK;AACb,yBAAA,EAAE,EAAO;A;A;A;A;AAKvB,WAAA,CAAC,EAEP,IAAI,CAAC,ICXG,EAAY,MAAO,GAIjB,AAHF,CAAA,MAAM,MAAM,CAAC,+BAA+B,EAAE,EAAA,CAAI,CAAE,CAC9D,OAAQ,QACV,EAAA,EACkB,IAAI,GCGT,EAAe,MAAM,EAAI,KACpC,IAAM,EAAU,CACd,OAAQ,MACR,KAAM,KAAK,SAAS,CAAC,GACrB,QAAS,CACP,eAAgB,kBAClB,CACF,EAGA,MAAO,AADK,CAAA,MAAM,MAAM,CAAC,+BAA+B,EAAE,EAAA,CAAI,CAAE,EAAhE,EACW,IAAI,EACjB,ELnBK,EAAS,SAAS,aAAa,CAAC,YAChC,EAAU,SAAS,aAAa,CAAC,eACjC,EAAW,SAAS,aAAa,CAAC,YAClC,EAAU,SAAS,aAAa,CAAC,eAEnC,EAAa,KAEjB,SAAS,IACP,EAAS,KAAK,CAAC,OAAO,CAAG,IACzB,EAAS,KAAK,CAAC,aAAa,CAAG,MACjC,CAEA,SAAS,IACP,EAAS,KAAK,CAAC,OAAO,CAAG,IACzB,EAAS,KAAK,CAAC,aAAa,CAAG,MACjC,CAEA,EAAQ,gBAAgB,CAAC,QAAS,KAChC,EAAa,KACb,EAAQ,KAAK,GACb,GACF,GAEA,EAAQ,gBAAgB,CAAC,SAAU,AAAC,IAClC,EAAI,cAAc,GAElB,GAAM,CAAA,QAAE,CAAO,CAAA,KAAE,CAAI,CAAA,UAAE,CAAS,CAAA,OAAE,CAAM,CAAA,MAAE,CAAK,CAAE,CAAG,EAAI,MAAM,CAAC,QAAQ,CAEjE,EAAO,CACX,QAAS,EAAQ,KAAK,CAAC,IAAI,GAC3B,KAAM,EAAK,KAAK,CAAC,IAAI,GACrB,UAAW,EAAU,KAAK,CAAC,IAAI,GAC/B,OAAQ,EAAO,KAAK,CAAC,IAAI,GACzB,MAAO,EAAM,KAAK,CAAC,IAAI,EACzB,CAEA,AAAI,AAAe,QAAf,EACF,AAAA,EAAW,GACR,IAAI,CAAC,GACL,IAAI,CAAC,AAAC,IACL,EAAO,SAAS,CAAG,AAAA,EAAkB,GACrC,EAAQ,KAAK,GACb,GACF,GAIJ,AAAA,EAAa,EAAY,GACtB,IAAI,CAAC,IAAM,AAAA,KACX,IAAI,CAAC,AAAC,IACL,EAAO,SAAS,CAAG,AAAA,EAAkB,GACrC,EAAQ,KAAK,GACb,GACF,EACJ,GAEA,EAAO,gBAAgB,CAAC,QAAS,AAAC,IAWhC,GAVoC,WAAhC,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,EAG7B,AAAA,EAFe,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAGzC,IAAI,CAAC,GACL,IAAI,CAAC,AAAC,IACL,EAAO,SAAS,CAAG,AAAA,EAAkB,EACvC,GAGA,AAAgC,SAAhC,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,CAAa,CAC1C,IAAM,EAAU,EAAM,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAE7C,AAAA,IACG,IAAI,CAAC,AAAC,IACL,IAAM,EAAO,EAAI,IAAI,CAAC,AAAC,GAAO,EAAG,EAAE,EAAI,GAClC,IAEL,EAAQ,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAG,EAAK,OAAO,EAAI,GACjD,EAAQ,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAG,EAAK,IAAI,EAAI,GAC3C,EAAQ,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAG,EAAK,SAAS,EAAI,GACrD,EAAQ,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAG,EAAK,MAAM,EAAI,GAC/C,EAAQ,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAG,EAAK,KAAK,EAAI,GAE7C,EAAa,EAAK,EAAE,CACpB,IACF,GACC,KAAK,CAAC,AAAC,IACN,QAAQ,KAAK,CAAC,+BAAgC,EAChD,EACJ,CACF,GAEA,AAAA,IAAY,IAAI,CAAC,AAAC,IAChB,EAAO,SAAS,CAAG,AAAA,EAAkB,EACvC","sources":["<anon>","src/app.js","src/api/getApi.js","src/api/postIsApi.js","src/makup/create-item.js","src/api/deliceApi.js","src/api/updateIceApi.js"],"sourcesContent":["//  export const getIceApi = () => {\n//   return fetch(\"http://localhost:3000/ice-cream\").then((res) => res.json());\n// }\nconst $3482b160874db60f$export$d98f99a76a2fbc82 = async ()=>{\n    const res = await fetch(\"http://localhost:3000/students\");\n    return res.json();\n};\n\n\n// export const postIceApi = (icecrem) => {\n//   const options = {\n//     method: \"POST\",\n//     body: JSON.stringify(icecrem),\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//   };\n//   return fetch(\"http://localhost:3000/ice-cream\", options).then((res) =>\n//     res.json()\n//   );\n// };\nconst $c889cdd366076bb6$export$60baec214e5713ce = async (icecrem)=>{\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(icecrem),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n    const res = await fetch(\"http://localhost:3000/students\", options);\n    return res.json();\n};\n\n\nconst $9a2d8bac1b28f7a7$export$98e28ab48a350060 = (array)=>{\n    return array.map(({ surname: surname, name: name, birthdate: birthdate, skills: skills, image: image, id: id }, index)=>{\n        return `<li class=\"item\" id=\"${id}\">\n        <span class=\"item-span\">${index + 1}</span> <!-- \\u{434}\\u{43B}\\u{44F} \\u{432}\\u{456}\\u{437}\\u{443}\\u{430}\\u{43B}\\u{44C}\\u{43D}\\u{43E}\\u{433}\\u{43E} \\u{43D}\\u{43E}\\u{43C}\\u{435}\\u{440}\\u{430} -->\n        <img src=\"${image}\" alt=\"${name}\" class=\"image\">\n        <h2 class=\"title\">${birthdate}</h2>\n        <p class=\"calories\">${surname}</p>\n        <p class=\"description\">${name}</p>\n        <p class=\"price\">${skills}</p>\n        <div class=\"btn_box\">\n          <button type=\"button\" class=\"btn btn-delete\" data-action=\"Delete\">Delete It</button>\n          <button type=\"button\" class=\"btn btn-edit\" data-action=\"Edit\">Edit this card</button>\n        </div>\n      </li>`;\n    }).join(\"\");\n};\n\n\n// export const delIceApi = (id) => {\n//   return fetch(`http://localhost:3000/ice-cream/${id}`, {\n//     method: \"DELETE\",\n//   }).then((res) => res.json());\n// };\nconst $0f34cc3837aa4f28$export$9c08335d724f49ae = async (id)=>{\n    const res = await fetch(`http://localhost:3000/students/${id}`, {\n        method: \"DELETE\"\n    });\n    const date = res.json();\n    return date;\n};\n\n\n// export const updateIceApi = (id, icecrem) => {\n//   const options = {\n//     method: \"PUT\",\n//     body: JSON.stringify(icecrem),\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//   };\n//   return fetch(`http://localhost:3000/ice-cream/${id}`, options).then((res) =>\n//     res.json()\n//   );\n// };\nconst $dd48cc1058af9cd5$export$713aeb0dad5a80d7 = async (id, icecrem)=>{\n    const options = {\n        method: \"PUT\",\n        body: JSON.stringify(icecrem),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n    const res = await fetch(`http://localhost:3000/students/${id}`, options);\n    return res.json();\n};\n\n\nconst $6f40c3a58f594b58$var$listEl = document.querySelector(\".js-list\");\nconst $6f40c3a58f594b58$var$formRef = document.querySelector(\".modal_form\");\nconst $6f40c3a58f594b58$var$backdrop = document.querySelector(\".bakdrop\");\nconst $6f40c3a58f594b58$var$openBtn = document.querySelector(\".open_modal\");\nlet $6f40c3a58f594b58$var$editCardId = null;\nfunction $6f40c3a58f594b58$var$openModal() {\n    $6f40c3a58f594b58$var$backdrop.style.opacity = \"1\";\n    $6f40c3a58f594b58$var$backdrop.style.pointerEvents = \"auto\";\n}\nfunction $6f40c3a58f594b58$var$closeModal() {\n    $6f40c3a58f594b58$var$backdrop.style.opacity = \"0\";\n    $6f40c3a58f594b58$var$backdrop.style.pointerEvents = \"none\";\n}\n$6f40c3a58f594b58$var$openBtn.addEventListener(\"click\", ()=>{\n    $6f40c3a58f594b58$var$editCardId = null;\n    $6f40c3a58f594b58$var$formRef.reset();\n    $6f40c3a58f594b58$var$openModal();\n});\n$6f40c3a58f594b58$var$formRef.addEventListener(\"submit\", (evt)=>{\n    evt.preventDefault();\n    const { surname: surname, name: name, birthdate: birthdate, skills: skills, image: image } = evt.target.elements;\n    const data = {\n        surname: surname.value.trim(),\n        name: name.value.trim(),\n        birthdate: birthdate.value.trim(),\n        skills: skills.value.trim(),\n        image: image.value.trim()\n    };\n    if ($6f40c3a58f594b58$var$editCardId === null) {\n        (0, $c889cdd366076bb6$export$60baec214e5713ce)(data).then((0, $3482b160874db60f$export$d98f99a76a2fbc82)).then((res)=>{\n            $6f40c3a58f594b58$var$listEl.innerHTML = (0, $9a2d8bac1b28f7a7$export$98e28ab48a350060)(res);\n            $6f40c3a58f594b58$var$formRef.reset();\n            $6f40c3a58f594b58$var$closeModal();\n        });\n        return;\n    }\n    (0, $dd48cc1058af9cd5$export$713aeb0dad5a80d7)($6f40c3a58f594b58$var$editCardId, data).then(()=>(0, $3482b160874db60f$export$d98f99a76a2fbc82)()).then((res)=>{\n        $6f40c3a58f594b58$var$listEl.innerHTML = (0, $9a2d8bac1b28f7a7$export$98e28ab48a350060)(res);\n        $6f40c3a58f594b58$var$formRef.reset();\n        $6f40c3a58f594b58$var$closeModal();\n    });\n});\n$6f40c3a58f594b58$var$listEl.addEventListener(\"click\", (event)=>{\n    if (event.target.dataset.action === \"Delete\") {\n        const itemId = event.target.closest(\"li\").id;\n        (0, $0f34cc3837aa4f28$export$9c08335d724f49ae)(itemId).then((0, $3482b160874db60f$export$d98f99a76a2fbc82)).then((res)=>{\n            $6f40c3a58f594b58$var$listEl.innerHTML = (0, $9a2d8bac1b28f7a7$export$98e28ab48a350060)(res);\n        });\n    }\n    if (event.target.dataset.action === \"Edit\") {\n        const idItems = event.target.closest(\"li\").id;\n        (0, $3482b160874db60f$export$d98f99a76a2fbc82)().then((res)=>{\n            const card = res.find((el)=>el.id == idItems);\n            if (!card) return;\n            $6f40c3a58f594b58$var$formRef.elements.surname.value = card.surname || \"\";\n            $6f40c3a58f594b58$var$formRef.elements.name.value = card.name || \"\";\n            $6f40c3a58f594b58$var$formRef.elements.birthdate.value = card.birthdate || \"\";\n            $6f40c3a58f594b58$var$formRef.elements.skills.value = card.skills || \"\";\n            $6f40c3a58f594b58$var$formRef.elements.image.value = card.image || \"\";\n            $6f40c3a58f594b58$var$editCardId = card.id;\n            $6f40c3a58f594b58$var$openModal();\n        }).catch((err)=>{\n            console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043E\\u0442\\u0440\\u0438\\u043C\\u0430\\u043D\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0438\\u0445:\", err);\n        });\n    }\n});\n(0, $3482b160874db60f$export$d98f99a76a2fbc82)().then((res)=>{\n    $6f40c3a58f594b58$var$listEl.innerHTML = (0, $9a2d8bac1b28f7a7$export$98e28ab48a350060)(res);\n});\n\n\n//# sourceMappingURL=hw-18.ecfb706d.js.map\n","import { getIceApi } from \"./api/getApi\";\r\nimport { postIceApi } from \"./api/postIsApi\";\r\nimport { createItemsMarkup } from \"./makup/create-item\";\r\nimport { delIceApi } from \"./api/deliceApi\";\r\nimport { updateIceApi } from \"./api/updateIceApi\";\r\n\r\nconst listEl = document.querySelector(\".js-list\");\r\nconst formRef = document.querySelector(\".modal_form\");\r\nconst backdrop = document.querySelector(\".bakdrop\");\r\nconst openBtn = document.querySelector(\".open_modal\");\r\n\r\nlet editCardId = null;\r\n\r\nfunction openModal() {\r\n  backdrop.style.opacity = \"1\";\r\n  backdrop.style.pointerEvents = \"auto\";\r\n}\r\n\r\nfunction closeModal() {\r\n  backdrop.style.opacity = \"0\";\r\n  backdrop.style.pointerEvents = \"none\";\r\n}\r\n\r\nopenBtn.addEventListener(\"click\", () => {\r\n  editCardId = null;\r\n  formRef.reset();\r\n  openModal();\r\n});\r\n\r\nformRef.addEventListener(\"submit\", (evt) => {\r\n  evt.preventDefault();\r\n\r\n  const { surname, name, birthdate, skills, image } = evt.target.elements;\r\n\r\n  const data = {\r\n    surname: surname.value.trim(),\r\n    name: name.value.trim(),\r\n    birthdate: birthdate.value.trim(),\r\n    skills: skills.value.trim(),\r\n    image: image.value.trim(),\r\n  };\r\n\r\n  if (editCardId === null) {\r\n    postIceApi(data)\r\n      .then(getIceApi)\r\n      .then((res) => {\r\n        listEl.innerHTML = createItemsMarkup(res);\r\n        formRef.reset();\r\n        closeModal();\r\n      });\r\n    return;\r\n  }\r\n\r\n  updateIceApi(editCardId, data)\r\n    .then(() => getIceApi())\r\n    .then((res) => {\r\n      listEl.innerHTML = createItemsMarkup(res);\r\n      formRef.reset();\r\n      closeModal();\r\n    });\r\n});\r\n\r\nlistEl.addEventListener(\"click\", (event) => {\r\n  if (event.target.dataset.action === \"Delete\") {\r\n    const itemId = event.target.closest(\"li\").id;\r\n\r\n    delIceApi(itemId)\r\n      .then(getIceApi)\r\n      .then((res) => {\r\n        listEl.innerHTML = createItemsMarkup(res);\r\n      });\r\n  }\r\n\r\n  if (event.target.dataset.action === \"Edit\") {\r\n    const idItems = event.target.closest(\"li\").id;\r\n\r\n    getIceApi()\r\n      .then((res) => {\r\n        const card = res.find((el) => el.id == idItems);\r\n        if (!card) return;\r\n\r\n        formRef.elements.surname.value = card.surname || \"\";\r\n        formRef.elements.name.value = card.name || \"\";\r\n        formRef.elements.birthdate.value = card.birthdate || \"\";\r\n        formRef.elements.skills.value = card.skills || \"\";\r\n        formRef.elements.image.value = card.image || \"\";\r\n\r\n        editCardId = card.id;\r\n        openModal();\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Помилка при отриманні даних:\", err);\r\n      });\r\n  }\r\n});\r\n\r\ngetIceApi().then((res) => {\r\n  listEl.innerHTML = createItemsMarkup(res);\r\n});\r\n","//  export const getIceApi = () => {\r\n//   return fetch(\"http://localhost:3000/ice-cream\").then((res) => res.json());\r\n// }\r\n\r\n export const getIceApi = async() => {\r\n   const res = await fetch(\"http://localhost:3000/students\");\r\n   return res.json();\r\n };\r\n","// export const postIceApi = (icecrem) => {\r\n//   const options = {\r\n//     method: \"POST\",\r\n//     body: JSON.stringify(icecrem),\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//   };\r\n\r\n//   return fetch(\"http://localhost:3000/ice-cream\", options).then((res) =>\r\n//     res.json()\r\n//   );\r\n// };\r\n\r\n\r\nexport const postIceApi = async (icecrem) => {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(icecrem),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  const res = await fetch(\"http://localhost:3000/students\", options);\r\n  return res.json()\r\n};\r\n","export const createItemsMarkup = (array) => {\r\n  return array\r\n    .map(({ surname, name, birthdate, skills, image, id }, index) => {\r\n      return `<li class=\"item\" id=\"${id}\">\r\n        <span class=\"item-span\">${\r\n          index + 1\r\n        }</span> <!-- для візуального номера -->\r\n        <img src=\"${image}\" alt=\"${name}\" class=\"image\">\r\n        <h2 class=\"title\">${birthdate}</h2>\r\n        <p class=\"calories\">${surname}</p>\r\n        <p class=\"description\">${name}</p>\r\n        <p class=\"price\">${skills}</p>\r\n        <div class=\"btn_box\">\r\n          <button type=\"button\" class=\"btn btn-delete\" data-action=\"Delete\">Delete It</button>\r\n          <button type=\"button\" class=\"btn btn-edit\" data-action=\"Edit\">Edit this card</button>\r\n        </div>\r\n      </li>`;\r\n    })\r\n    .join(\"\");\r\n};\r\n","// export const delIceApi = (id) => {\r\n//   return fetch(`http://localhost:3000/ice-cream/${id}`, {\r\n//     method: \"DELETE\",\r\n//   }).then((res) => res.json());\r\n// };\r\n\r\n\r\nexport const delIceApi = async (id) => {\r\n const res = await fetch(`http://localhost:3000/students/${id}`, {\r\n   method: \"DELETE\",\r\n });\r\n  const date = res.json()\r\n  return date\r\n};\r\n","// export const updateIceApi = (id, icecrem) => {\r\n//   const options = {\r\n//     method: \"PUT\",\r\n//     body: JSON.stringify(icecrem),\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\",\r\n//     },\r\n//   };\r\n\r\n//   return fetch(`http://localhost:3000/ice-cream/${id}`, options).then((res) =>\r\n//     res.json()\r\n//   );\r\n// };\r\n\r\n export const updateIceApi = async(id, icecrem) => {\r\n   const options = {\r\n     method: \"PUT\",\r\n     body: JSON.stringify(icecrem),\r\n     headers: {\r\n       \"Content-Type\": \"application/json\",\r\n     },\r\n   };\r\n\r\n   const res = await fetch(`http://localhost:3000/students/${id}`, options);\r\n   return res.json();\r\n };\r\n"],"names":["$3482b160874db60f$export$d98f99a76a2fbc82","res","fetch","json","$c889cdd366076bb6$export$60baec214e5713ce","icecrem","options","method","body","JSON","stringify","headers","$9a2d8bac1b28f7a7$export$98e28ab48a350060","array","map","surname","name","birthdate","skills","image","id","index","join","$0f34cc3837aa4f28$export$9c08335d724f49ae","$dd48cc1058af9cd5$export$713aeb0dad5a80d7","$6f40c3a58f594b58$var$listEl","document","querySelector","$6f40c3a58f594b58$var$formRef","$6f40c3a58f594b58$var$backdrop","$6f40c3a58f594b58$var$openBtn","$6f40c3a58f594b58$var$editCardId","$6f40c3a58f594b58$var$openModal","style","opacity","pointerEvents","$6f40c3a58f594b58$var$closeModal","addEventListener","reset","evt","preventDefault","target","elements","data","value","trim","then","innerHTML","event","dataset","action","closest","idItems","card","find","el","catch","err","console","error"],"version":3,"file":"hw-18.ecfb706d.js.map"}